# 介绍

## 如何进行调试

当前环境
* PhpStorm: 2023.1.2
* docker image: phpswoole/swoole:4.5.11-php7.4
    * php 7.4
    * swoole 4.5.11
    * yasd 0.3.9

`docker`镜像直接使用`Dockerfile`构建的，相关的参数我已经写入进去了，只需要配置`PhpStorm`即可

* 点击`设置`-`PHP`-`服务器`，增加服务器，服务器配置要求如下：
    * 名称需要是`yasd`
    * 主机可以是浏览器访问域名，通过ip访问，可以写ip
    * 端口`9501`
    * 使用路径映射，把本地代码路径跟容器内代码路径进行映射
* 点击`设置`-`PHP`-`调试`
  * 把调试端口改为`9500`
  * 如果一直断点不生效，可以先把`在php脚本的第一行中断`给勾选上，启动swoole项目时，记得点通过

配置完成之后就可以开始调试了
* 先停着容器，然后打开`PhpStorm`监听
* 启动/重启容器，`PhpStorm`可能会断点在`启动脚本`第一行，要直接通过
* 在项目中断点，浏览器访问，即可进入调试
